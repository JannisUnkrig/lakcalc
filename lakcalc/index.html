<!DOCTYPE html>
<html>
	<head>
		<title>Lords and Knights-Kampfrechner</title>

		<meta charset="ISO8859-1">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.4.0.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  	    <script src="lakcalc.js"></script>

		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
		
		<style>
/* "NIW" = "Number input field width" */
 .niw {
 	width: 85px;
 }
		</style>
	</head>
	<body>
		<div ng-app="myApp" ng-controller="myCtrl" style="max-width:400px;" class="container">

			<div class="page-header"><h4>Lords and Knights-Kampfrechner</h4></div>
			<div class="row"> 
    			<div class="col-xs-6">Startzeit:</div>
				<div class="col-xs-6"><div uib-timepicker ng-model="snapshot0.uhrzeit" show-meridian="false"></div></div>
			</div>

			<table class="table">
				<tr>
					<th></th>
					<th colspan="{{snapshot0.defSchwertkaempfer.length}}">
						<div style="width:120px">
							Verteidiger
							<span class="btn-group">
								<button type="button" ng-click="defPlus()" class="btn btn-primary btn-xs">+</button>
								<button type="button" ng-click="defMinus()" class="btn btn-primary btn-xs">-</button>
							</span>
						</div>
					</th>
					<td>&nbsp;</td>
					<th colspan="{{snapshot0.offSchwertkaempfer.length}}">
						<div style="width:120px">
							Angreifer
							<span class="btn-group">
								<button type="button" ng-click="offPlus()" class="btn btn-primary btn-xs">+</button>
								<button type="button" ng-click="offMinus()" class="btn btn-primary btn-xs">-</button>
							</span>
						</div>
					</th>
				</tr>

				<tr style="background-color: #eff">
					<td>Speerträger:</td>
					<td ng-repeat="y in indexes(snapshot0.defSpeertraeger)"><input class="form-control niw" type="number" ng-model="snapshot0.defSpeertraeger[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offSpeertraeger)"><input class="form-control niw" type="number" ng-model="snapshot0.offSpeertraeger[y]" /></td>
				</tr>
				<tr style="background-color: #eff">
					<td>Schwertkämpfer:</td>
					<td ng-repeat="y in indexes(snapshot0.defSchwertkaempfer)"><input class="form-control niw" type="number" ng-model="snapshot0.defSchwertkaempfer[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offSchwertkaempfer)"><input class="form-control niw" type="number" ng-model="snapshot0.offSchwertkaempfer[y]" /></td>
				</tr>
				<tr style="background-color: #eff">
					<td>Berserker:</td>
					<td ng-repeat="y in indexes(snapshot0.defBerserker)"><input class="form-control niw" type="number" ng-model="snapshot0.defBerserker[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offBerserker)"><input class="form-control niw" type="number" ng-model="snapshot0.offBerserker[y]" /></td>
				</tr>
				<tr><td colspan="{{2 + snapshot0.defBerserker.length + snapshot0.offBerserker.length}}"></td></tr>
				<tr>
					<td>Bogenschütze:</td>
					<td ng-repeat="y in indexes(snapshot0.defBogenschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.defBogenschuetze[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offBogenschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.offBogenschuetze[y]" /></td>
				</tr>
				<tr>
					<td>Armbrustschütze:</td>
					<td ng-repeat="y in indexes(snapshot0.defArmbrustschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.defArmbrustschuetze[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offArmbrustschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.offArmbrustschuetze[y]" /></td>
				</tr>
				<tr>
					<td>Nordischer Bogensschütze:</td>
					<td ng-repeat="y in indexes(snapshot0.defNordischerBogenschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.defNordischerBogenschuetze[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offNordischerBogenschuetze)"><input class="form-control niw" type="number" ng-model="snapshot0.offNordischerBogenschuetze[y]" /></td>
				</tr>
				<tr><td colspan="{{2 + snapshot0.defBerserker.length + snapshot0.offBerserker.length}}"></td></tr>
				<tr>
					<td>Panzerreiter:</td>
					<td ng-repeat="y in indexes(snapshot0.defPanzerreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.defPanzerreiter[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offPanzerreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.offPanzerreiter[y]" /></td>
				</tr>
				<tr>
					<td>Lanzenreiter:</td>
					<td ng-repeat="y in indexes(snapshot0.defLanzenreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.defLanzenreiter[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offLanzenreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.offLanzenreiter[y]" /></td>
				</tr>
				<tr>
					<td>Axtreiter:</td>
					<td ng-repeat="y in indexes(snapshot0.defAxtreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.defAxtreiter[y]" /></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offAxtreiter)"><input class="form-control niw" type="number" ng-model="snapshot0.offAxtreiter[y]" /></td>
				</tr>
				<tr><td colspan="{{2 + snapshot0.defBerserker.length + snapshot0.offBerserker.length}}"></td></tr>
				<tr>
					<td>Wehranlagen:</td>
					<td ng-repeat="y in indexes(defWehranlagen)"><select class="form-control" ng-model="defWehranlagen[y]"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option><option>11</option><option>12</option><option>13</option><option>14</option><option>15</option><option>16</option><option>17</option><option>18</option><option>19</option><option>20</option></select></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(snapshot0.offAxtreiter)"></td>
				</tr>
				<tr>
					<td>Bibliothek:</td>
					<td ng-repeat="y in indexes(defBibliothek)"><select class="form-control" ng-model="defBibliothek[y]"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></td>
					<td>&nbsp;</td>
					<td ng-repeat="y in indexes(offBibliothek)"><select class="form-control" ng-model="offBibliothek[y]"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></td>
				</tr>
			</table>

			<input type="submit" ng-click="kaempfe()" value="Kämpfe" />			

			<div ng-repeat="x in snapshot">
			
				<hr />

				<h4>Kampf um {{x.uhrzeit.getHours()}}:{{x.uhrzeit.getMinutes()}} <span ng-if="x.nachtmodus">(Nachtmodus)</span></h4>

				<table class="table table-striped">
					<tr><th></th><th>Defensivwerte</th><th>Offensivwerte</th></tr>
					<tr><td>Infanterie</td><td>{{x.defGegenInfanterie}}</td><td>{{x.offGegenInfanterie}}</td></tr>
					<tr><td>Artillerie</td><td>{{x.defGegenArtillerie}}</td><td>{{x.offGegenArtillerie}}</td></tr>
					<tr><td>Kavallerie</td><td>{{x.defGegenKavallerie}}</td><td>{{x.offGegenKavallerie}}</td></tr>
				</table>
				
	
				<table class="table table-striped">
				
					<tr>
						<th></th>
						<th colspan="{{snapshot0.defSchwertkaempfer.length}}">Verteidiger</th>
						<th colspan="{{snapshot0.offSchwertkaempfer.length}}">Angreifer</th>
					</tr>
	
					<tr><td>Speerträger:</td>            <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defSpeertraeger[j]}}</td>           <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offSpeertraeger[j]}}</td>           </tr>
					<tr><td>Schwertkämpfer:</td>         <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defSchwertkaempfer[j]}}</td>        <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offSchwertkaempfer[j]}}</td>        </tr>
					<tr><td>Berserker:</td>              <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defBerserker[j]}}</td>              <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offBerserker[j]}}</td>              </tr>
					<tr><td>Bogenschütze:</td>           <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defBogenschuetze[j]}}</td>          <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offBogenschuetze[j]}}</td>          </tr>
					<tr><td>Armbrustschütze:</td>        <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defArmbrustschuetze[j]}}</td>       <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offArmbrustschuetze[j]}}</td>       </tr>
					<tr><td>Nordischer Bogenschütze:</td><td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defNordischerBogenschuetze[j]}}</td><td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offNordischerBogenschuetze[j]}}</td></tr>
					<tr><td>Panzerreiter:</td>           <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defPanzerreiter[j]}}</td>           <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offPanzerreiter[j]}}</td>           </tr>
					<tr><td>Lanzenreiter:</td>           <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defLanzenreiter[j]}}</td>           <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offLanzenreiter[j]}}</td>           </tr>
					<tr><td>Axtreiter:</td>              <td ng-repeat="j in indexes(x.defSpeertraeger)">{{x.defAxtreiter[j]}}</td>              <td ng-repeat="j in indexes(x.offSpeertraeger)">{{x.offAxtreiter[j]}}</td>              </tr>
				</table>
			</div>

			<div class="small" style="margin-top: 10px; text-align: center;">
				Want to report bugs, contribute, or just pat someone's back? Visit us on <a href="https://github.com/JannisUnkrig/lakcalc" target="_top">Github</a>.
			</div>
		</div>
	</body>
</html>
